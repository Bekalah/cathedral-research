<!DOCTYPE html>
<html lang="en" data-nd-safe="true" data-tool="paradox-inverter" data-archetype="hanged-man">
    <head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>🔄 Paradox Inverter — Sacred Suspension & Perspective Shift</title>
            <meta name="description" content="Advanced perspective transformation interface for finding wisdom through suspension and inversion. ND-safe design.">
            <style>
                :root {
                --void: #121212; --shadow: #1e1e1e; --grey: #2a2a2a; --steel: #404040;
                --silver: #a0a0a0; --light: #d0d0d0; --gold: #ffd700; --azure: #007fff;
                --emerald: #50c878; --crimson: #dc143c; --amethyst: #9966cc; --amber: #ffbf00;
                --escape-glow: #ffff00; --radius: 18px; --shadow-deep: 0 15px 50px rgba(0, 0, 0, 0.6);
                }
                * { margin: 0; padding: 0; box-sizing: border-box; }
                body {
                background: linear-gradient(135deg, var(--void) 0%, var(--shadow) 50%, var(--grey) 100%);
                font-family: 'Cormorant Garamond', serif;
                color: var(--light);
                min-height: 100vh;
                overflow-x: hidden;
                position: relative;
                }
                /* Floating inverted elements */
                .inversion-field {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: -1;
                }
                .inverted-element {
                position: absolute;
                width: 2px;
                height: 20px;
                background: linear-gradient(180deg, transparent, var(--silver), transparent);
                animation: float-invert 12s infinite linear;
                opacity: 0.4;
                }
                @keyframes float-invert {
                0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
                }
                50% {
                opacity: 0.6;
                transform: rotate(180deg);
                }
                100% {
                transform: translateY(-20px) rotate(360deg);
                opacity: 0;
                }
                }
                /* Emergency Escape Portal */
                .escape-portal {
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                background: rgba(0, 0, 0, 0.9);
                border: 2px solid var(--escape-glow);
                border-radius: 12px;
                padding: 12px;
                backdrop-filter: blur(10px);
                display: flex;
                align-items: center;
                gap: 10px;
                }
                .escape-key {
                background: var(--escape-glow);
                color: black;
                padding: 8px 12px;
                border-radius: 6px;
                font-weight: 600;
                font-size: 14px;
                }
                .escape-text {
                color: white;
                font-size: 12px;
                }
                .header {
                text-align: center;
                padding: 50px 20px;
                position: relative;
                }
                h1 {
                font-size: 3.5em;
                font-weight: 300;
                letter-spacing: 0.1em;
                background: linear-gradient(135deg, var(--gold), var(--azure), var(--amethyst));
                -webkit-background-clip: text;
                background-clip: text;
                -webkit-text-fill-color: transparent;
                margin-bottom: 16px;
                filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.3));
                }
                .tagline {
                font-size: 1em;
                letter-spacing: 0.2em;
                text-transform: uppercase;
                color: var(--silver);
                margin-bottom: 30px;
                opacity: 0.9;
                }
                .hanged-man-symbol {
                display: inline-flex;
                align-items: center;
                gap: 15px;
                background: rgba(64, 64, 64, 0.6);
                padding: 15px 30px;
                border-radius: 50px;
                border: 2px solid var(--azure);
                backdrop-filter: blur(10px);
                animation: gentleSway 6s ease-in-out infinite;
                }
                @keyframes gentleSway {
                0%, 100% { transform: rotate(-2deg); }
                50% { transform: rotate(2deg); }
                }
                .main {
                max-width: 1300px;
                margin: 0 auto;
                padding: 0 20px 40px;
                display: grid;
                grid-template-columns: 350px 1fr 350px;
                gap: 30px;
                }
                /* Side Panels */
                .side-panel {
                background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(18, 18, 18, 0.95));
                border-radius: var(--radius);
                padding: 25px;
                box-shadow: var(--shadow-deep);
                backdrop-filter: blur(15px);
                border: 1px solid rgba(160, 160, 160, 0.2);
                height: fit-content;
                }
                .section {
                margin-bottom: 25px;
                padding-bottom: 20px;
                border-bottom: 1px solid rgba(160, 160, 160, 0.15);
                }
                .section:last-child {
                border: none;
                margin-bottom: 0;
                }
                .section-title {
                font-size: 1.3em;
                font-weight: 400;
                margin-bottom: 18px;
                color: var(--gold);
                display: flex;
                align-items: center;
                gap: 10px;
                }
                .input-group {
                margin-bottom: 18px;
                }
                .input-label {
                display: block;
                font-size: 0.9em;
                color: var(--silver);
                margin-bottom: 8px;
                letter-spacing: 0.05em;
                }
                .text-input, .text-area, .select-input {
                width: 100%;
                padding: 14px 18px;
                border: 2px solid rgba(160, 160, 160, 0.3);
                border-radius: 12px;
                background: rgba(18, 18, 18, 0.8);
                font-family: inherit;
                font-size: 0.9em;
                color: var(--light);
                transition: all 0.3s ease;
                }
                .text-input:focus, .text-area:focus, .select-input:focus {
                outline: none;
                border-color: var(--azure);
                background: rgba(18, 18, 18, 0.95);
                box-shadow: 0 0 0 3px rgba(0, 127, 255, 0.1);
                }
                .text-area {
                min-height: 100px;
                resize: vertical;
                line-height: 1.5;
                }
                /* Center Panel: Inversion Interface */
                .inversion-panel {
                background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(18, 18, 18, 0.95));
                border-radius: var(--radius);
                padding: 30px;
                box-shadow: var(--shadow-deep);
                backdrop-filter: blur(15px);
                border: 1px solid rgba(160, 160, 160, 0.2);
                min-height: 700px;
                display: flex;
                flex-direction: column;
                align-items: center;
                }
                .inversion-wheel {
                width: 350px;
                height: 350px;
                position: relative;
                border: 3px solid var(--azure);
                border-radius: 50%;
                margin: 20px 0;
                background: radial-gradient(circle, rgba(0, 127, 255, 0.1), transparent 70%);
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                }
                .wheel-outer-ring {
                position: absolute;
                width: 300px;
                height: 300px;
                border: 2px solid rgba(255, 215, 0, 0.3);
                border-radius: 50%;
                animation: slowRotate 30s linear infinite;
                }
                .wheel-inner-ring {
                position: absolute;
                width: 200px;
                height: 200px;
                border: 2px solid rgba(153, 102, 204, 0.4);
                border-radius: 50%;
                animation: slowRotate 20s linear infinite reverse;
                }
                .hanged-figure {
                width: 80px;
                height: 80px;
                background: linear-gradient(135deg, var(--gold), var(--azure));
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 2.5em;
                color: white;
                z-index: 3;
                animation: hangingSway 8s ease-in-out infinite;
                transform-origin: center top;
                }
                @keyframes slowRotate {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
                }
                @keyframes hangingSway {
                0%, 100% { transform: rotate(180deg) translateY(5px); }
                50% { transform: rotate(180deg) translateY(-5px); }
                }
                .perspective-cards {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin: 20px 0;
                width: 100%;
                }
                .perspective-card {
                background: rgba(64, 64, 64, 0.4);
                border-radius: 12px;
                padding: 20px;
                border: 2px solid transparent;
                transition: all 0.4s ease;
                cursor: pointer;
                min-height: 120px;
                text-align: center;
                }
                .perspective-card:hover {
                border-color: var(--azure);
                background: rgba(64, 64, 64, 0.6);
                transform: translateY(-3px);
                }
                .perspective-card.before {
                border-color: var(--crimson);
                background: rgba(220, 20, 60, 0.1);
                }
                .perspective-card.after {
                border-color: var(--emerald);
                background: rgba(80, 200, 120, 0.1);
                }
                .card-label {
                font-size: 0.8em;
                color: var(--silver);
                text-transform: uppercase;
                letter-spacing: 0.1em;
                margin-bottom: 8px;
                }
                .card-content {
                font-size: 1em;
                line-height: 1.4;
                color: var(--light);
                }
                .inversion-result {
                background: rgba(153, 102, 204, 0.1);
                border-radius: 15px;
                padding: 25px;
                margin-top: 20px;
                border-left: 4px solid var(--amethyst);
                width: 100%;
                display: none;
                }
                .inversion-result.active {
                display: block;
                animation: fadeInGlow 0.8s ease-out;
                }
                @keyframes fadeInGlow {
                from {
                opacity: 0;
                transform: scale(0.95);
                }
                to {
                opacity: 1;
                transform: scale(1);
                }
                }
                .result-title {
                font-size: 1.2em;
                color: var(--amethyst);
                margin-bottom: 12px;
                font-weight: 500;
                }
                .result-text {
                line-height: 1.6;
                color: var(--light);
                }
                .buttons {
                display: flex;
                gap: 15px;
                justify-content: center;
                margin-top: auto;
                padding-top: 20px;
                }
                .btn {
                padding: 14px 24px;
                border: none;
                border-radius: 12px;
                font-family: inherit;
                font-size: 0.9em;
                font-weight: 500;
                letter-spacing: 0.05em;
                cursor: pointer;
                transition: all 0.3s ease;
                }
                .btn-primary {
                background: linear-gradient(135deg, var(--azure), var(--amethyst));
                color: white;
                box-shadow: 0 6px 20px rgba(0, 127, 255, 0.3);
                }
                .btn-primary:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 25px rgba(0, 127, 255, 0.4);
                }
                .btn-secondary {
                background: rgba(64, 64, 64, 0.6);
                color: var(--silver);
                border: 1px solid rgba(160, 160, 160, 0.3);
                }
                .btn-secondary:hover {
                background: rgba(64, 64, 64, 0.8);
                transform: translateY(-1px);
                }
                @media (max-width: 1100px) {
                .main {
                grid-template-columns: 1fr;
                gap: 25px;
                }
                .inversion-wheel {
                width: 280px;
                height: 280px;
                }
                }
            </style>
        </head>
        <body>
            <div class="inversion-field" id="inversionField">
            </div>
            <!-- Emergency Escape Portal -->
            <div class="escape-portal">
                <div class="escape-key">ESC</div>
                    <div class="escape-text">Safety Exit</div>
                    </div>
                    <div class="header">
                        <h1>🔄 Paradox Inverter</h1>
                            <p class="tagline">Sacred Suspension & Perspective Shift</p>
                                <div class="hanged-man-symbol">
                                    <span style="font-size: 1.8em; transform: rotate(180deg);">🙂</span>
                                        <span>Wisdom Through Inversion</span>
                                        </div>
                                    </div>
                                    <div class="main">
                                        <!-- Left Panel: Current Situation -->
                                        <div class="side-panel">
                                            <div class="section">
                                                <div class="section-title">
                                                    🎯 Current Situation
                                                </div>
                                                <div class="input-group">
                                                    <label class="input-label" for="situation-description">Describe Your Challenge</label>
                                                        <textarea
                                                            id="situation-description"
                                                            class="text-area"
                                                            placeholder="What situation feels stuck, overwhelming, or impossible to solve?"
                                                            maxlength="500"
                                                            >
                                                        </textarea>
                                                    </div>
                                                    <div class="input-group">
                                                        <label class="input-label" for="current-approach">Current Approach</label>
                                                            <textarea
                                                                id="current-approach"
                                                                class="text-area"
                                                                placeholder="How have you been trying to handle this situation?"
                                                                maxlength="300"
                                                                >
                                                            </textarea>
                                                        </div>
                                                        <div class="input-group">
                                                            <label class="input-label" for="challenge-type">Type of Challenge</label>
                                                                <select id="challenge-type" class="select-input">
                                                                    <option value="relationship">Relationship Conflict</option>
                                                                        <option value="decision">Major Decision</option>
                                                                            <option value="creative">Creative Block</option>
                                                                                <option value="career">Career Transition</option>
                                                                                    <option value="spiritual">Spiritual Crisis</option>
                                                                                        <option value="habit">Breaking Patterns</option>
                                                                                            <option value="fear">Overcoming Fear</option>
                                                                                                <option value="other">Other Challenge</option>
                                                                                                </select>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="section">
                                                                                            <div class="section-title">
                                                                                                ⚖️ Perspective Frame
                                                                                            </div>
                                                                                            <div class="input-group">
                                                                                                <label class="input-label" for="desired-outcome">Desired Outcome</label>
                                                                                                    <input
                                                                                                    type="text"
                                                                                                    id="desired-outcome"
                                                                                                    class="text-input"
                                                                                                    placeholder="What would success look like?"
                                                                                                    maxlength="200"
                                                                                                    />
                                                                                                </div>
                                                                                                <div class="input-group">
                                                                                                    <label class="input-label" for="resistance-source">What's Creating Resistance?</label>
                                                                                                        <textarea
                                                                                                            id="resistance-source"
                                                                                                            class="text-area"
                                                                                                            placeholder="What keeps you stuck in this pattern?"
                                                                                                            maxlength="300"
                                                                                                            >
                                                                                                        </textarea>
                                                                                                    </div>
                                                                                                    <div class="input-group">
                                                                                                        <label class="input-label" for="inversion-depth">Inversion Depth</label>
                                                                                                            <select id="inversion-depth" class="select-input">
                                                                                                                <option value="gentle">Gentle Shift</option>
                                                                                                                    <option value="moderate">Moderate Inversion</option>
                                                                                                                        <option value="radical">Radical Perspective Flip</option>
                                                                                                                            <option value="complete">Complete Paradigm Shift</option>
                                                                                                                            </select>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <!-- Center Panel: Inversion Interface -->
                                                                                                                <div class="inversion-panel">
                                                                                                                    <div class="inversion-wheel" id="inversionWheel">
                                                                                                                        <div class="wheel-outer-ring">
                                                                                                                        </div>
                                                                                                                        <div class="wheel-inner-ring">
                                                                                                                        </div>
                                                                                                                        <div class="hanged-figure" id="hangedFigure">🙃</div>
                                                                                                                        </div>
                                                                                                                        <div class="perspective-cards" id="perspectiveCards">
                                                                                                                            <div class="perspective-card before" id="beforeCard">
                                                                                                                                <div class="card-label">Current Perspective</div>
                                                                                                                                    <div class="card-content" id="beforeContent">
                                                                                                                                        Enter your situation to see the inversion
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                                <div class="perspective-card after" id="afterCard">
                                                                                                                                    <div class="card-label">Inverted Perspective</div>
                                                                                                                                        <div class="card-content" id="afterContent">
                                                                                                                                            The paradox will reveal new wisdom
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                                <div class="inversion-result" id="inversionResult">
                                                                                                                                    <div class="result-title" id="resultTitle">Paradox Wisdom</div>
                                                                                                                                        <div class="result-text" id="resultText">
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                    <div class="buttons">
                                                                                                                                        <button class="btn btn-secondary" onclick="clearInversion()">Clear</button>
                                                                                                                                            <button class="btn btn-primary" onclick="performInversion()">Invert Perspective</button>
                                                                                                                                                <button class="btn btn-secondary" onclick="exportWisdom()">Save Wisdom</button>
                                                                                                                                                </div>
                                                                                                                                            </div>
                                                                                                                                            <!-- Right Panel: Wisdom Guidance -->
                                                                                                                                            <div class="side-panel">
                                                                                                                                                <div class="section">
                                                                                                                                                    <div class="section-title">
                                                                                                                                                        🧠 Inversion Principles
                                                                                                                                                    </div>
                                                                                                                                                    <div style="font-size: 0.9em; line-height: 1.6; color: var(--silver);">
                                                                                                                                                        <p style="margin-bottom: 12px;">
                                                                                                                                                            <strong>Opposite Action:</strong> What if you did the exact opposite of what feels natural?
                                                                                                                                                            </p>
                                                                                                                                                            <p style="margin-bottom: 12px;">
                                                                                                                                                                <strong>Perspective Flip:</strong> How would your 'enemy' or critic view this situation?
                                                                                                                                                                </p>
                                                                                                                                                                <p style="margin-bottom: 12px;">
                                                                                                                                                                    <strong>Time Inversion:</strong> How will this matter in 10 years? 100 years?
                                                                                                                                                                    </p>
                                                                                                                                                                    <p style="margin-bottom: 12px;">
                                                                                                                                                                        <strong>Role Reversal:</strong> What if you were advising someone else with this problem?
                                                                                                                                                                        </p>
                                                                                                                                                                    </div>
                                                                                                                                                                </div>
                                                                                                                                                                <div class="section">
                                                                                                                                                                    <div class="section-title">
                                                                                                                                                                        🔮 Sacred Suspension
                                                                                                                                                                    </div>
                                                                                                                                                                    <div style="font-size: 0.9em; line-height: 1.6; color: var(--silver);">
                                                                                                                                                                        <p style="margin-bottom: 12px;">
                                                                                                                                                                            The Hanged Man teaches us that sometimes progress requires surrender,
                                                                                                                                                                            and wisdom comes through willing suspension of our usual patterns.
                                                                                                                                                                        </p>
                                                                                                                                                                        <p style="margin-bottom: 12px;">
                                                                                                                                                                            In sacred suspension, we let go of forcing solutions and allow
                                                                                                                                                                            new perspectives to emerge naturally.
                                                                                                                                                                        </p>
                                                                                                                                                                    </div>
                                                                                                                                                                </div>
                                                                                                                                                                <div class="section">
                                                                                                                                                                    <div class="section-title">
                                                                                                                                                                        ✨ Integration Practice
                                                                                                                                                                    </div>
                                                                                                                                                                    <div style="font-size: 0.9em; line-height: 1.6; color: var(--silver);">
                                                                                                                                                                        <div style="margin-bottom: 10px; padding: 10px; background: rgba(64, 64, 64, 0.3); border-radius: 8px;">
                                                                                                                                                                            <strong>Step 1:</strong> Sit with the discomfort of the new perspective
                                                                                                                                                                            </div>
                                                                                                                                                                            <div style="margin-bottom: 10px; padding: 10px; background: rgba(64, 64, 64, 0.3); border-radius: 8px;">
                                                                                                                                                                                <strong>Step 2:</strong> Find the grain of truth in the paradox
                                                                                                                                                                                </div>
                                                                                                                                                                                <div style="margin-bottom: 10px; padding: 10px; background: rgba(64, 64, 64, 0.3); border-radius: 8px;">
                                                                                                                                                                                    <strong>Step 3:</strong> Take one small action from the new viewpoint
                                                                                                                                                                                    </div>
                                                                                                                                                                                </div>
                                                                                                                                                                            </div>
                                                                                                                                                                            <div class="section">
                                                                                                                                                                                <div class="section-title">
                                                                                                                                                                                    🎭 Famous Paradoxes
                                                                                                                                                                                </div>
                                                                                                                                                                                <div style="font-size: 0.85em; color: var(--silver);">
                                                                                                                                                                                    <div style="margin-bottom: 8px;">• "The only way to win is not to play"</div>
                                                                                                                                                                                        <div style="margin-bottom: 8px;">• "Letting go gives you control"</div>
                                                                                                                                                                                            <div style="margin-bottom: 8px;">• "Embracing failure leads to success"</div>
                                                                                                                                                                                                <div style="margin-bottom: 8px;">• "Being vulnerable creates strength"</div>
                                                                                                                                                                                                    <div style="margin-bottom: 8px;">• "Slowing down helps you move faster"</div>
                                                                                                                                                                                                    </div>
                                                                                                                                                                                                </div>
                                                                                                                                                                                            </div>
                                                                                                                                                                                        </div>
                                                                                                                                                                                        <script>
                                                                                                                                                                                            // Create floating inverted elements
                                                                                                                                                                                            function createInversionField() {
                                                                                                                                                                                            const container = document.getElementById('inversionField');
                                                                                                                                                                                            for (let i = 0; i < 20; i++) {
                                                                                                                                                                                                const element = document.createElement('div');
                                                                                                                                                                                                element.className = 'inverted-element';
                                                                                                                                                                                                element.style.left = Math.random() * 100 + '%';
                                                                                                                                                                                                element.style.animationDelay = Math.random() * 12 + 's';
                                                                                                                                                                                                element.style.animationDuration = (10 + Math.random() * 4) + 's';
                                                                                                                                                                                                container.appendChild(element);
                                                                                                                                                                                                }
                                                                                                                                                                                                }
                                                                                                                                                                                                function performInversion() {
                                                                                                                                                                                                const situation = document.getElementById('situation-description').value.trim();
                                                                                                                                                                                                const approach = document.getElementById('current-approach').value.trim();
                                                                                                                                                                                                const type = document.getElementById('challenge-type').value;
                                                                                                                                                                                                const outcome = document.getElementById('desired-outcome').value.trim();
                                                                                                                                                                                                const resistance = document.getElementById('resistance-source').value.trim();
                                                                                                                                                                                                const depth = document.getElementById('inversion-depth').value;
                                                                                                                                                                                                if (!situation) {
                                                                                                                                                                                                alert('Please describe your situation before performing the inversion.');
                                                                                                                                                                                                return;
                                                                                                                                                                                                }
                                                                                                                                                                                                // Animate the wheel
                                                                                                                                                                                                const wheel = document.getElementById('inversionWheel');
                                                                                                                                                                                                wheel.style.transform = 'rotate(180deg)';
                                                                                                                                                                                                wheel.style.transition = 'transform 2s ease-in-out';
                                                                                                                                                                                                // Generate inversions
                                                                                                                                                                                                setTimeout(() => {
                                                                                                                                                                                                generateInversion(situation, approach, type, outcome, resistance, depth);
                                                                                                                                                                                                showResult();
                                                                                                                                                                                                // Reset wheel
                                                                                                                                                                                                setTimeout(() => {
                                                                                                                                                                                                wheel.style.transform = 'rotate(0deg)';
                                                                                                                                                                                                }, 1000);
                                                                                                                                                                                                }, 2000);
                                                                                                                                                                                                }
                                                                                                                                                                                                function generateInversion(situation, approach, type, outcome, resistance, depth) {
                                                                                                                                                                                                const beforePerspective = generateBeforePerspective(situation, approach);
                                                                                                                                                                                                const afterPerspective = generateAfterPerspective(situation, type, depth);
                                                                                                                                                                                                const wisdom = generateWisdom(type, depth, resistance);
                                                                                                                                                                                                document.getElementById('beforeContent').textContent = beforePerspective;
                                                                                                                                                                                                document.getElementById('afterContent').textContent = afterPerspective;
                                                                                                                                                                                                document.getElementById('resultText').textContent = wisdom;
                                                                                                                                                                                                }
                                                                                                                                                                                                function generateBeforePerspective(situation, approach) {
                                                                                                                                                                                                const keywords = situation.toLowerCase();
                                                                                                                                                                                                if (keywords.includes('stuck') || keywords.includes('overwhelm')) {
                                                                                                                                                                                                return "You see this as a problem that needs to be solved through effort and control.";
                                                                                                                                                                                                } else if (keywords.includes('conflict') || keywords.includes('fight')) {
                                                                                                                                                                                                return "You view this as a battle that must be won through strength and persistence.";
                                                                                                                                                                                                } else if (keywords.includes('fear') || keywords.includes('afraid')) {
                                                                                                                                                                                                return "You see this as a threat that must be avoided or overcome through courage.";
                                                                                                                                                                                                } else {
                                                                                                                                                                                                return "You approach this challenge through direct action and logical problem-solving.";
                                                                                                                                                                                                }
                                                                                                                                                                                                }
                                                                                                                                                                                                function generateAfterPerspective(situation, type, depth) {
                                                                                                                                                                                                const inversions = {
                                                                                                                                                                                                'gentle': {
                                                                                                                                                                                                'relationship': "What if this conflict is actually bringing you closer by revealing what you both truly need?",
                                                                                                                                                                                                'decision': "What if the 'wrong' choice would teach you something essential?",
                                                                                                                                                                                                'creative': "What if the block is protecting you from creating something too small?",
                                                                                                                                                                                                'career': "What if staying where you are is exactly where you need to be right now?",
                                                                                                                                                                                                'spiritual': "What if your doubt is actually deepening your faith?",
                                                                                                                                                                                                'habit': "What if this pattern serves a purpose you haven't recognized?",
                                                                                                                                                                                                'fear': "What if your fear is actually excitement in disguise?",
                                                                                                                                                                                                'other': "What if this challenge is actually a gift in disguise?"
                                                                                                                                                                                                },
                                                                                                                                                                                                'radical': {
                                                                                                                                                                                                'relationship': "What if you're the one who needs to change, not them?",
                                                                                                                                                                                                'decision': "What if you don't need to decide at all?",
                                                                                                                                                                                                'creative': "What if you destroyed everything you've created and started fresh?",
                                                                                                                                                                                                'career': "What if your calling is completely different from what you think?",
                                                                                                                                                                                                'spiritual': "What if everything you believe is backwards?",
                                                                                                                                                                                                'habit': "What if you embraced this pattern completely instead of fighting it?",
                                                                                                                                                                                                'fear': "What if you walked directly toward what scares you most?",
                                                                                                                                                                                                'other': "What if the opposite of your goal is actually what you need?"
                                                                                                                                                                                                }
                                                                                                                                                                                                };
                                                                                                                                                                                                const level = depth === 'complete' || depth === 'radical' ? 'radical' : 'gentle';
                                                                                                                                                                                                return inversions[level][type] || "What if the solution is the opposite of what you think?";
                                                                                                                                                                                                }
                                                                                                                                                                                                function generateWisdom(type, depth, resistance) {
                                                                                                                                                                                                const base = "The paradox reveals that ";
                                                                                                                                                                                                const wisdomMappings = {
                                                                                                                                                                                                'relationship': "true connection often requires vulnerability, not strength.",
                                                                                                                                                                                                'decision': "the right choice emerges when you stop trying to choose.",
                                                                                                                                                                                                'creative': "limitation breeds creativity, not unlimited freedom.",
                                                                                                                                                                                                'career': "your purpose finds you when you stop chasing it.",
                                                                                                                                                                                                'spiritual': "doubt and faith are dancing partners, not enemies.",
                                                                                                                                                                                                'habit': "acceptance transforms patterns more than resistance.",
                                                                                                                                                                                                'fear': "what we fear most often contains what we need most.",
                                                                                                                                                                                                'other': "surrendering control often gives us the power we seek."
                                                                                                                                                                                                };
                                                                                                                                                                                                const depthGuidance = {
                                                                                                                                                                                                'gentle': " Start with small experiments in this new perspective.",
                                                                                                                                                                                                'moderate': " Allow this shift to challenge your assumptions.",
                                                                                                                                                                                                'radical': " This inversion may feel uncomfortable, but sit with it.",
                                                                                                                                                                                                'complete': " Let this complete reversal reshape how you see everything."
                                                                                                                                                                                                };
                                                                                                                                                                                                return base +
                                                                                                                                                                                                (wisdomMappings[type] || "every problem contains the seeds of its own solution.") +
                                                                                                                                                                                                (depthGuidance[depth] || "");
                                                                                                                                                                                                }
                                                                                                                                                                                                function showResult() {
                                                                                                                                                                                                const result = document.getElementById('inversionResult');
                                                                                                                                                                                                result.classList.add('active');
                                                                                                                                                                                                }
                                                                                                                                                                                                function clearInversion() {
                                                                                                                                                                                                document.getElementById('situation-description').value = '';
                                                                                                                                                                                                document.getElementById('current-approach').value = '';
                                                                                                                                                                                                document.getElementById('desired-outcome').value = '';
                                                                                                                                                                                                document.getElementById('resistance-source').value = '';
                                                                                                                                                                                                document.getElementById('beforeContent').textContent = 'Enter your situation to see the inversion';
                                                                                                                                                                                                document.getElementById('afterContent').textContent = 'The paradox will reveal new wisdom';
                                                                                                                                                                                                const result = document.getElementById('inversionResult');
                                                                                                                                                                                                result.classList.remove('active');
                                                                                                                                                                                                }
                                                                                                                                                                                                function exportWisdom() {
                                                                                                                                                                                                const situation = document.getElementById('situation-description').value.trim();
                                                                                                                                                                                                if (!situation) {
                                                                                                                                                                                                alert('Please perform an inversion first.');
                                                                                                                                                                                                return;
                                                                                                                                                                                                }
                                                                                                                                                                                                alert('Paradox wisdom saved to your perspective collection! 🔄');
                                                                                                                                                                                                }
                                                                                                                                                                                                // Emergency escape
                                                                                                                                                                                                document.addEventListener('keydown', function(e) {
                                                                                                                                                                                                if (e.key === 'Escape') {
                                                                                                                                                                                                clearInversion();
                                                                                                                                                                                                window.parent.postMessage({ action: 'escape', tool: 'paradox-inverter' }, '*');
                                                                                                                                                                                                }
                                                                                                                                                                                                });
                                                                                                                                                                                                // Initialize
                                                                                                                                                                                                createInversionField();
                                                                                                                                                                                                // Announce tool ready
                                                                                                                                                                                                window.addEventListener('load', function() {
                                                                                                                                                                                                window.parent.postMessage({
                                                                                                                                                                                                action: 'tool-ready',
                                                                                                                                                                                                tool: 'paradox-inverter',
                                                                                                                                                                                                archetype: 'hanged-man',
                                                                                                                                                                                                capabilities: ['perspective-inversion', 'paradox-resolution', 'wisdom-synthesis']
                                                                                                                                                                                                }, '*');
                                                                                                                                                                                                });
                                                                                                                                                                                            </script>
                                                                                                                                                                                        </body>
                                                                                                                                                                                    </html>
