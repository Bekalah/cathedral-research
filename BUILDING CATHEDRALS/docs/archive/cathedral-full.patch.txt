>>>FILE: package.json
{
  "name": "cathedral",
  "private": true,
  "scripts": {
    "dev": "pnpm -C apps/web dev",
    "build": "pnpm -C apps/web build",
    "validate": "tsx scripts/validate.ts"
  },
  "devDependencies": {
    "ajv": "^8.12.0",
    "tsx": "^4.7.0"
  },
  "packageManager": "pnpm@8.15.0"
}
<<<FILE
>>>FILE: pnpm-workspace.yaml
packages:
  - "apps/*"
  - "packages/*"
<<<FILE
>>>FILE: apps/web/package.json
{
  "name": "@cathedral/web",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.22.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@vitejs/plugin-react": "^4.2.0",
    "vite": "^5.0.0"
  }
}
<<<FILE
>>>FILE: apps/web/vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  base: "/cathedral/",
  build: {
    outDir: '../../docs',
    emptyOutDir: true
  },
  assetsInclude: ['**/*.glsl', '**/*.wgsl', '**/*.wasm']
});
<<<FILE
>>>FILE: apps/web/index.html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Cathedral of Circuits</title>
  <meta name="theme-color" content="#0b0b0f"/>
  <style>
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: .001ms !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
    }
    html, body, #root { height: 100%; margin: 0; background: #0b0b0f; color: #eaeaf2; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
<<<FILE
>>>FILE: apps/web/src/main.tsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
ReactDOM.createRoot(document.getElementById('root')!).render(<App />);
<<<FILE
>>>FILE: apps/web/src/App.tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Portal from './routes/Portal';
import Arcana from './routes/Arcana';
import Codex from './routes/Codex';
import Labs from './routes/Labs';
import Library from './routes/Library';
import About from './routes/About';

export default function App() {
  return (
    <BrowserRouter basename="/cathedral">
      <Routes>
        <Route path="/" element={<Portal />} />
        <Route path="/arcana" element={<Arcana />} />
        <Route path="/codex" element={<Codex />} />
        <Route path="/labs" element={<Labs />} />
        <Route path="/library" element={<Library />} />
        <Route path="/about" element={<About />} />
      </Routes>
    </BrowserRouter>
  );
}
<<<FILE
>>>FILE: packages/data/arcana/majors.json
{
  "merge_strategy": "append",
  "cards": [
    {
      "id": "fool",
      "name": "The Fool",
      "guardian": "rebecca-respawn",
      "lineage": ["Giordano Bruno", "Leonora Carrington"],
      "docs": ["/docs/bruno_cosmology_pd.pdf", "/docs/carrington_pd.html"],
      "glyph": "hebrew-aleph",
      "portal": { "type": "artifact", "form": "key" },
      "heal": { "nd": true, "ptsd": true },
      "tags": ["major", "portal", "guardian"],
      "lock": true
    },
    {
      "id": "judgement",
      "name": "Judgement",
      "guardian": "ps-dionysius",
      "lineage": ["Ezekiel 1 (PD)", "Celestial Hierarchy (PD)", "Dies Irae (PD)"],
      "docs": ["/docs/ezekiel_ch1_pd.txt", "/docs/ps_dionysius_celestial_hierarchy.txt", "/docs/dies_irae_pd.txt"],
      "glyph": "hebrew-shin",
      "portal": { "type": "artifact", "form": "trumpet-gate" },
      "heal": { "nd": true, "ptsd": true },
      "tags": ["major", "truth", "remembrance"],
      "lock": true
    },
    {
      "id": "world",
      "name": "The World",
      "guardian": "cosmogenesis",
      "lineage": ["Corpus Hermeticum I & XII (PD)", "Ptolemy Almagest (PD Selections)"],
      "docs": ["/docs/hermeticum_I_XII_compendium.txt", "/docs/ptolemy_almagest_selections.txt"],
      "glyph": "hebrew-tau",
      "portal": { "type": "artifact", "form": "cosmic-wreath" },
      "heal": { "nd": true, "ptsd": true },
      "tags": ["major", "integration", "completion"],
      "lock": true
    }
  ]
}
<<<FILE
>>>FILE: packages/data/codex/codex_nodes.json
{"merge_strategy": "append","nodes": []}
<<<FILE
>>>FILE: docs/bruno_cosmology_pd.pdf
TODO: insert PD text
<<<FILE
>>>FILE: docs/carrington_pd.html
TODO: insert PD text
<<<FILE
>>>FILE: docs/ezekiel_ch1_pd.txt
TODO: insert PD text
<<<FILE
>>>FILE: docs/ps_dionysius_celestial_hierarchy.txt
TODO: insert PD text
<<<FILE
>>>FILE: docs/dies_irae_pd.txt
TODO: insert PD text
<<<FILE
>>>FILE: docs/hermeticum_I_XII_compendium.txt
TODO: insert PD text
<<<FILE
>>>FILE: docs/ptolemy_almagest_selections.txt
TODO: insert PD text
<<<FILE
>>>FILE: .gitignore
node_modules/
.pnpm-debug.log
dist/
docs/
<<<FILE
>>>FILE: publish.sh
#!/bin/bash
set -e
echo "✦ Building Cathedral..."
pnpm build
echo "✦ Committing..."
git add -A
git commit -m "publish: update Cathedral" || echo "no changes"
git push
echo "✅ Live at https://bekalah.github.io/cathedral/"
<<<FILE